<root>
    <in>
        normal
        position3f
    </in>
    <out>FragColor</out>
    <uniform>
        samplerCube EnvCubemap;
        CameraInfo g_camera;
        SceneInfo r_scene_info;
    </uniform>
    <raw>EnvCubemap</raw>
    <main>
//        vec3 view_vector=Position;
//        view_vector.y*=-1.0f;
//        vec3 uvw=reflect(view_vector,Normal);
//        uvw.xz*=-1.0;
//        FragColor=texture(EnvCubemap,uvw.xzy);

        vec3 uvw=GetEnvCubemapCoord(Position,Normal);

        FragColor=texture(EnvCubemap,uvw);
    </main>
</root>

<root>
    <in>gb_ntt</in>
    <out>gb_cn</out>
    <uniform>
        sampler2D TexColor;
        sampler2D TexNormal;
    </uniform>
    <raw>normal3to2</raw>
    <main>
        vec3 N    =normalize(Normal);
        vec3 T    =normalize(Tangent);
        vec3 B    =cross(N,T);
        mat3 TBN  =mat3(T,B,N);
        vec3 tnorm=TBN*texture(TexNormal,TexCoord).xyz;

        GB_Normal.rg=normal3to2(tnorm);
        GB_Color  =texture(TexColor,TexCoord);
    </main>
</root>
